/opt/homebrew/lib/python3.13/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
WARNING:app.supabase_service_enhanced:SUPABASE_SERVICE_KEY not set, using anon key for admin operations
INFO:app.supabase_service_enhanced:✅ Enhanced Supabase service initialized
INFO:     Started server process [10209]
INFO:     Waiting for application startup.
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=%2A "HTTP/2 200 OK"
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=%2A&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8 "HTTP/2 200 OK"
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=%2A&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8 "HTTP/2 200 OK"
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
✅ Official I9 template found: /Users/gouthamvemula/onbclaude/onbdev/official-forms/i9-form-latest.pdf
✅ Official W4 template found: /Users/gouthamvemula/onbclaude/onbdev/official-forms/w4-form-latest.pdf
✅ Supabase-enabled backend started successfully
INFO:     127.0.0.1:54007 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=%2A&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8 "HTTP/2 200 OK"
INFO:     127.0.0.1:54016 - "GET /api/onboarding/session/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8 HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=%2A&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8 "HTTP/2 200 OK"
INFO:     127.0.0.1:54018 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:54007 - "GET /api/onboarding/session/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54007 - "OPTIONS /api/onboarding/test-emp-238cb7e6/complete/welcome HTTP/1.1" 200 OK
INFO:     127.0.0.1:54007 - "POST /api/onboarding/test-emp-238cb7e6/complete/welcome HTTP/1.1" 200 OK
INFO:     127.0.0.1:54007 - "OPTIONS /api/onboarding/test-emp-238cb7e6/complete/personal-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:54007 - "POST /api/onboarding/test-emp-238cb7e6/complete/personal-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:54007 - "POST /api/onboarding/test-emp-238cb7e6/complete/personal-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:54059 - "OPTIONS /api/onboarding/test-emp-238cb7e6/complete/job-details HTTP/1.1" 200 OK
INFO:     127.0.0.1:54059 - "POST /api/onboarding/test-emp-238cb7e6/complete/job-details HTTP/1.1" 200 OK
INFO:     127.0.0.1:54059 - "OPTIONS /api/onboarding/test-emp-238cb7e6/complete/company-policies HTTP/1.1" 200 OK
INFO:     127.0.0.1:54059 - "POST /api/onboarding/test-emp-238cb7e6/complete/company-policies HTTP/1.1" 200 OK
INFO:     127.0.0.1:54110 - "OPTIONS /api/onboarding/test-emp-238cb7e6/progress/i9-complete HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54110 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=id&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.i9-complete "HTTP/2 200 OK"
INFO:httpx:HTTP Request: PATCH https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.i9-complete "HTTP/2 200 OK"
INFO:app.main_enhanced:Test employee form data saved to Supabase: True
INFO:     127.0.0.1:54112 - "POST /api/onboarding/test-emp-238cb7e6/progress/i9-complete HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54112 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=id&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.i9-complete "HTTP/2 200 OK"
INFO:httpx:HTTP Request: PATCH https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.i9-complete "HTTP/2 200 OK"
INFO:app.main_enhanced:Test employee form data saved to Supabase: True
INFO:     127.0.0.1:54126 - "POST /api/onboarding/test-emp-238cb7e6/progress/i9-complete HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54128 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54126 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54184 - "GET /healthz HTTP/1.1" 200 OK
INFO:app.i9_ocr_service:Processing document type: I9DocumentType.DRIVERS_LICENSE with Groq Vision API
INFO:httpx:HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
INFO:app.i9_ocr_service:Groq API response: {
  "document_number": "123456789",
  "first_name": "Janice",
  "last_name": "Sample",
  "date_of_birth": "1994-06-01",
  "issue_date": "2024-06-01",
  "expiration_date": "2032-06-01",
  "issuing_authority": "Tennessee",
  "address": "123 Main St, Apt 1, Nashville, TN 37210",
  "class": "M",
  "restrictions": "None",
  "height": "5'-06\"",
  "weight": "",
  "eye_color": "Brown"
}
INFO:     127.0.0.1:54196 - "POST /api/documents/process HTTP/1.1" 200 OK
INFO:app.i9_ocr_service:Processing document type: I9DocumentType.SSN_CARD with Groq Vision API
INFO:httpx:HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
INFO:app.i9_ocr_service:Groq API response: {
  "ssn": "000-00-0000",
  "first_name": "Barry",
  "last_name": "Sousa",
  "issuing_authority": "Social Security Administration"
}
INFO:     127.0.0.1:54242 - "POST /api/documents/process HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=id&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.i9-complete "HTTP/2 200 OK"
INFO:httpx:HTTP Request: PATCH https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.i9-complete "HTTP/2 200 OK"
INFO:app.main_enhanced:Test employee form data saved to Supabase: True
INFO:     127.0.0.1:54261 - "POST /api/onboarding/test-emp-238cb7e6/progress/i9-complete HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54263 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54261 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:54331 - "OPTIONS /api/onboarding/test-emp-238cb7e6/i9-complete HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/employees?select=%2A&id=eq.test-emp-238cb7e6 "HTTP/2 400 Bad Request"
ERROR:app.supabase_service_enhanced:Error getting employee by ID: {'message': 'invalid input syntax for type uuid: "test-emp-238cb7e6"', 'code': '22P02', 'hint': None, 'details': None}
INFO:     127.0.0.1:54331 - "POST /api/onboarding/test-emp-238cb7e6/i9-complete HTTP/1.1" 404 Not Found
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=id&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.i9-complete "HTTP/2 200 OK"
INFO:httpx:HTTP Request: PATCH https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.i9-complete "HTTP/2 200 OK"
INFO:app.main_enhanced:Test employee form data saved to Supabase: True
INFO:     127.0.0.1:54331 - "POST /api/onboarding/test-emp-238cb7e6/progress/i9-complete HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54338 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54331 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:54331 - "OPTIONS /api/onboarding/test-emp-238cb7e6/complete/i9-complete HTTP/1.1" 200 OK
INFO:     127.0.0.1:54331 - "POST /api/onboarding/test-emp-238cb7e6/complete/i9-complete HTTP/1.1" 200 OK
INFO:     127.0.0.1:54331 - "POST /api/onboarding/test-emp-238cb7e6/complete/i9-complete HTTP/1.1" 200 OK
INFO:     127.0.0.1:54394 - "OPTIONS /api/onboarding/test-emp-238cb7e6/w4-form/generate-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54395 - "OPTIONS /api/onboarding/test-emp-238cb7e6/w4-form/generate-pdf HTTP/1.1" 200 OK
✅ Official I9 template found: /Users/gouthamvemula/onbclaude/onbdev/official-forms/i9-form-latest.pdf
✅ Official W4 template found: /Users/gouthamvemula/onbclaude/onbdev/official-forms/w4-form-latest.pdf

=== DEBUG: W-4 PDF Fields ===
Page 1: 18 fields
  - Field: 'topmostSubform[0].Page1[0].Step1a[0].f1_01[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].Step1a[0].f1_02[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].Step1a[0].f1_03[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].Step1a[0].f1_04[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_05[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].c1_1[0]' | Type: CheckBox | Value: 'Off'
  - Field: 'topmostSubform[0].Page1[0].c1_1[1]' | Type: CheckBox | Value: 'Off'
  - Field: 'topmostSubform[0].Page1[0].c1_1[2]' | Type: CheckBox | Value: 'Off'
  - Field: 'topmostSubform[0].Page1[0].c1_2[0]' | Type: CheckBox | Value: 'Off'
  - Field: 'topmostSubform[0].Page1[0].Step3_ReadOrder[0].f1_06[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].Step3_ReadOrder[0].f1_07[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_09[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_10[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_11[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_12[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_13[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_14[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_15[0]' | Type: Text | Value: ''
Page 2: 0 fields
Page 3: 11 fields
  - Field: 'topmostSubform[0].Page3[0].f3_01[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_02[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_03[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_04[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_05[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_06[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_07[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_08[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_09[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_10[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_11[0]' | Type: Text | Value: ''
Page 4: 0 fields
Total fields: 29
==================================================
DEBUG: Employee signature date field: topmostSubform[0].Page1[0].f1_14[0]
DEBUG: Employee signature date value: 2025-08-05T18:58:47.081596
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step1a[0].f1_01[0]' with value 'Goutham'
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step1a[0].f1_02[0]' with value 'vemula'
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step1a[0].f1_03[0]' with value '5 gray st'
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step1a[0].f1_04[0]' with value 'jersey city, IA 07302'
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_05[0]' with value '900-99-0909'
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].c1_1[0]' with value 'True'
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page1[0].c1_1[1]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page1[0].c1_1[2]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page1[0].c1_2[0]' - verify IRS compliance
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step3_ReadOrder[0].f1_06[0]' with value ''
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step3_ReadOrder[0].f1_07[0]' with value ''
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_09[0]' with value ''
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_10[0]' with value ''
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_11[0]' with value ''
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_12[0]' with value ''
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page1[0].f1_13[0]' - verify IRS compliance
DEBUG: Found date/employer field: 'topmostSubform[0].Page1[0].f1_14[0]' at rect: [389.79998779296875, 729.9990234375, 467.25, 743.998046875]
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_14[0]' with value '2025-08-05T18:58:47.081596'
DEBUG: Found date/employer field: 'topmostSubform[0].Page1[0].f1_15[0]' at rect: [469.0, 729.9990234375, 576.0, 743.998046875]
⚠ SKIPPING EMPLOYER FIELD: 'topmostSubform[0].Page1[0].f1_15[0]' - Reserved for manager approval
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_01[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_02[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_03[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_04[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_05[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_06[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_07[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_08[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_09[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_10[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_11[0]' - verify IRS compliance
INFO:     127.0.0.1:54394 - "POST /api/onboarding/test-emp-238cb7e6/w4-form/generate-pdf HTTP/1.1" 200 OK
✅ Official I9 template found: /Users/gouthamvemula/onbclaude/onbdev/official-forms/i9-form-latest.pdf
✅ Official W4 template found: /Users/gouthamvemula/onbclaude/onbdev/official-forms/w4-form-latest.pdf

=== DEBUG: W-4 PDF Fields ===
Page 1: 18 fields
  - Field: 'topmostSubform[0].Page1[0].Step1a[0].f1_01[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].Step1a[0].f1_02[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].Step1a[0].f1_03[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].Step1a[0].f1_04[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_05[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].c1_1[0]' | Type: CheckBox | Value: 'Off'
  - Field: 'topmostSubform[0].Page1[0].c1_1[1]' | Type: CheckBox | Value: 'Off'
  - Field: 'topmostSubform[0].Page1[0].c1_1[2]' | Type: CheckBox | Value: 'Off'
  - Field: 'topmostSubform[0].Page1[0].c1_2[0]' | Type: CheckBox | Value: 'Off'
  - Field: 'topmostSubform[0].Page1[0].Step3_ReadOrder[0].f1_06[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].Step3_ReadOrder[0].f1_07[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_09[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_10[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_11[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_12[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_13[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_14[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page1[0].f1_15[0]' | Type: Text | Value: ''
Page 2: 0 fields
Page 3: 11 fields
  - Field: 'topmostSubform[0].Page3[0].f3_01[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_02[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_03[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_04[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_05[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_06[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_07[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_08[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_09[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_10[0]' | Type: Text | Value: ''
  - Field: 'topmostSubform[0].Page3[0].f3_11[0]' | Type: Text | Value: ''
Page 4: 0 fields
Total fields: 29
==================================================
DEBUG: Employee signature date field: topmostSubform[0].Page1[0].f1_14[0]
DEBUG: Employee signature date value: 2025-08-05T18:58:47.227618
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step1a[0].f1_01[0]' with value 'Goutham'
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step1a[0].f1_02[0]' with value 'vemula'
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step1a[0].f1_03[0]' with value '5 gray st'
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step1a[0].f1_04[0]' with value 'jersey city, IA 07302'
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_05[0]' with value '900-99-0909'
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].c1_1[0]' with value 'True'
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page1[0].c1_1[1]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page1[0].c1_1[2]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page1[0].c1_2[0]' - verify IRS compliance
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step3_ReadOrder[0].f1_06[0]' with value ''
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].Step3_ReadOrder[0].f1_07[0]' with value ''
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_09[0]' with value ''
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_10[0]' with value ''
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_11[0]' with value ''
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_12[0]' with value ''
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page1[0].f1_13[0]' - verify IRS compliance
DEBUG: Found date/employer field: 'topmostSubform[0].Page1[0].f1_14[0]' at rect: [389.79998779296875, 729.9990234375, 467.25, 743.998046875]
✓ IRS COMPLIANCE: Filled field 'topmostSubform[0].Page1[0].f1_14[0]' with value '2025-08-05T18:58:47.227618'
DEBUG: Found date/employer field: 'topmostSubform[0].Page1[0].f1_15[0]' at rect: [469.0, 729.9990234375, 576.0, 743.998046875]
⚠ SKIPPING EMPLOYER FIELD: 'topmostSubform[0].Page1[0].f1_15[0]' - Reserved for manager approval
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_01[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_02[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_03[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_04[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_05[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_06[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_07[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_08[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_09[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_10[0]' - verify IRS compliance
⚠ UNMAPPED FIELD: 'topmostSubform[0].Page3[0].f3_11[0]' - verify IRS compliance
INFO:     127.0.0.1:54395 - "POST /api/onboarding/test-emp-238cb7e6/w4-form/generate-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54459 - "OPTIONS /api/onboarding/test-emp-238cb7e6/progress/w4-form HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=id&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.w4-form "HTTP/2 200 OK"
INFO:httpx:HTTP Request: PATCH https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.w4-form "HTTP/2 200 OK"
INFO:app.main_enhanced:Test employee form data saved to Supabase: True
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54459 - "POST /api/onboarding/test-emp-238cb7e6/progress/w4-form HTTP/1.1" 200 OK
INFO:     127.0.0.1:54461 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:54461 - "OPTIONS /api/onboarding/test-emp-238cb7e6/complete/w4-form HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54459 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:54461 - "POST /api/onboarding/test-emp-238cb7e6/complete/w4-form HTTP/1.1" 200 OK
INFO:     127.0.0.1:54476 - "OPTIONS /api/onboarding/test-emp-238cb7e6/w4-form HTTP/1.1" 200 OK
ERROR:app.main_enhanced:Save W-4 form error: 'EnhancedSupabaseService' object has no attribute 'get_employee_by_id_sync'
INFO:     127.0.0.1:54476 - "POST /api/onboarding/test-emp-238cb7e6/w4-form HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:54524 - "POST /api/onboarding/test-emp-238cb7e6/complete/w4-form HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54565 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54654 - "GET /healthz HTTP/1.1" 200 OK
INFO:app.document_storage:Document stored: 19764c0a-0fbc-4e8f-9997-29654667b7c2 - Type: voided_check - Employee: test-emp-238cb7e6
INFO:app.main_enhanced:Test document uploaded: 19764c0a-0fbc-4e8f-9997-29654667b7c2
INFO:     127.0.0.1:54684 - "POST /api/test/documents/upload HTTP/1.1" 200 OK
INFO:     127.0.0.1:54742 - "OPTIONS /api/onboarding/test-emp-238cb7e6/progress/direct-deposit HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54744 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=id&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.direct-deposit "HTTP/2 200 OK"
INFO:httpx:HTTP Request: PATCH https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.direct-deposit "HTTP/2 200 OK"
INFO:app.main_enhanced:Test employee form data saved to Supabase: True
INFO:     127.0.0.1:54742 - "POST /api/onboarding/test-emp-238cb7e6/progress/direct-deposit HTTP/1.1" 200 OK
INFO:     127.0.0.1:54742 - "OPTIONS /api/onboarding/test-emp-238cb7e6/complete/direct-deposit HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54744 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:54742 - "POST /api/onboarding/test-emp-238cb7e6/complete/direct-deposit HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=id&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.direct-deposit "HTTP/2 200 OK"
INFO:httpx:HTTP Request: PATCH https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.direct-deposit "HTTP/2 200 OK"
INFO:app.main_enhanced:Test employee form data saved to Supabase: True
INFO:     127.0.0.1:54845 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:54843 - "POST /api/onboarding/test-emp-238cb7e6/progress/direct-deposit HTTP/1.1" 200 OK
INFO:     127.0.0.1:54843 - "POST /api/onboarding/test-emp-238cb7e6/complete/direct-deposit HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54845 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54941 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54987 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=id&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.direct-deposit "HTTP/2 200 OK"
INFO:httpx:HTTP Request: PATCH https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.direct-deposit "HTTP/2 200 OK"
INFO:app.main_enhanced:Test employee form data saved to Supabase: True
INFO:     127.0.0.1:54986 - "POST /api/onboarding/test-emp-238cb7e6/progress/direct-deposit HTTP/1.1" 200 OK
INFO:     127.0.0.1:54986 - "POST /api/onboarding/test-emp-238cb7e6/complete/direct-deposit HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:54986 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:55174 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:55374 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:55425 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:55625 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:55812 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:55867 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?select=id&token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.direct-deposit "HTTP/2 200 OK"
INFO:httpx:HTTP Request: PATCH https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/onboarding_form_data?token=eq.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZV9pZCI6InRlc3QtZW1wLTIzOGNiN2U2IiwiYXBwbGljYXRpb25faWQiOm51bGwsInRva2VuX3R5cGUiOiJvbmJvYXJkaW5nIiwiaWF0IjoxNzU0MzM4NzMyLCJleHAiOjE3NTQ5NDM1MzIsImp0aSI6IlFHNlp2RzR5a0M5M1U4U2FEYklUaWcifQ.1LG2BImpGD9yJ2-fDggp3JKGi84eeSHZexyv8l_Jle8&step_id=eq.direct-deposit "HTTP/2 200 OK"
INFO:app.main_enhanced:Test employee form data saved to Supabase: True
INFO:     127.0.0.1:55999 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:55997 - "POST /api/onboarding/test-emp-238cb7e6/progress/direct-deposit HTTP/1.1" 200 OK
INFO:     127.0.0.1:55997 - "POST /api/onboarding/test-emp-238cb7e6/complete/direct-deposit HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:55999 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:56269 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:56305 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:56364 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:56364 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:56426 - "OPTIONS /api/documents/19764c0a-0fbc-4e8f-9997-29654667b7c2/download HTTP/1.1" 200 OK
INFO:     127.0.0.1:56426 - "POST /api/documents/19764c0a-0fbc-4e8f-9997-29654667b7c2/download HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:56426 - "POST /api/documents/19764c0a-0fbc-4e8f-9997-29654667b7c2/download HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:56426 - "POST /api/documents/19764c0a-0fbc-4e8f-9997-29654667b7c2/download HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:56426 - "POST /api/documents/19764c0a-0fbc-4e8f-9997-29654667b7c2/download HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:56426 - "POST /api/documents/19764c0a-0fbc-4e8f-9997-29654667b7c2/download HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:56426 - "POST /api/documents/19764c0a-0fbc-4e8f-9997-29654667b7c2/download HTTP/1.1" 403 Forbidden
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:56557 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:56602 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:56765 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:56833 - "GET /healthz HTTP/1.1" 200 OK
ERROR:app.main_enhanced:Save W-4 form error: 'EnhancedSupabaseService' object has no attribute 'get_employee_by_id_sync'
INFO:     127.0.0.1:56933 - "POST /api/onboarding/test-emp-238cb7e6/w4-form HTTP/1.1" 500 Internal Server Error
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:57021 - "GET /healthz HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://onmjxtyamdpkhnflwwmj.supabase.co/rest/v1/users?select=id&limit=1 "HTTP/2 200 OK"
INFO:     127.0.0.1:57068 - "GET /healthz HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10209]
